# Child Pipeline for AI Code Review
#
# This file is triggered by the main .gitlab-ci.yml as a child pipeline.
# It runs independently and doesn't affect the main pipeline timing.

stages:
  - review

# Include DRS template
include:
  - remote: 'https://raw.githubusercontent.com/manojlds/drs/main/src/ci/gitlab-ci.template.yml'

# Full review with all agents
ai_review_full:
  extends: .drs_review
  stage: review
  variables:
    REVIEW_AGENTS: "security,quality,style,performance"
  allow_failure: true

# Security-focused review
ai_review_security:
  extends: .drs_review
  stage: review
  variables:
    REVIEW_AGENTS: "security"
  allow_failure: false  # Block if security issues found
